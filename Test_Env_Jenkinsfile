pipeline {

	agent any

	environment {
	DOCKER_HUB_CREDS = credentials('ericfontes-docker-hub') 
	}
		
	stages {

	  stage('Tooling versions') {

	    steps{
	      sh '''
	        docker --version
		docker compose version
		'''
		}
          }

	  stage('Build') {

	    steps {
	      sh 'docker login DOCKER_HUB_CREDS.Username -u root -p DOCKER_HUB_CREDS.Password'
	      sh 'docker compose build'
	      sh 'docker compose push'
	       }
	  }
     }
}
